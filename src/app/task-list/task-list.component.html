
<div class="task-list">
  <div class="container-content-header flex flex-col">
    <div class="container-header-title flex items-center mb-2">
      <i class="pi pi-list-check mr-3"></i>
      <span>Task list</span>
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-4 md:grid-cols-4 lg:grid-cols-4 sm:space-x-0 w-full">
      <div class="col-span-4 self-end text-right pb-[0.5rem]">
        <p-button label="Add Item" severity="primary" (onClick)="onOpenDialog()">
          <i class="fa-sharp fa-solid fa-plus mr-3"></i>
        </p-button>
      </div>
      <div class="col-span-1 text-left pb-[5px] mr-2 flex align-items-center">
        <span>Number of Records: {{ dataTable.length || 0 }} Records</span>
      </div>
    </div>

    <div class="grid grid-cols-1 mt-3">
      <div class="standard-table">
        <p-table [value]="dataTable" styleClass="p-datatable-striped" [tableStyle]="{ 'min-width': '50rem' }"
        [paginator]="true" [rows]="10" [rowsPerPageOptions]="[5, 10, 20]">
          <ng-template pTemplate="header">
            <tr>
              <th>No</th>
              <th>Title</th>
              <th>Description</th>
              <th>Due Date</th>
              <th>Status</th>
              <th>Priority</th>
              <th>Created Date</th>
              <th>Updated Date</th>
              <th>Action</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-data let-rowIndex="rowIndex">
            <tr>
              <td class="text-center">{{ rowIndex + 1 }}</td>
              <td>{{ data.title }}</td>
              <td>{{ data.description }}</td>
              <td class="text-center">{{ data.dueDate | date: 'dd-MM-yyyy'  }}</td>
              <td class="text-center">{{ data.status }}</td>
              <td class="text-center {{data.color}}">{{ data.priority }}</td>
              <td class="text-center">{{ data.createdDate | date: 'dd-MM-yyyy' }}</td>
              <td class="text-center">{{ data.updatedDate | date: 'dd-MM-yyyy' }}</td>
              <td class="text-center" (click)="onEdit(data)"><i class="pi pi-pencil"></i></td>
            </tr>
          </ng-template>
        </p-table>
      </div>
  </div>
</div>

<app-task-list-dialog [isShowDialog]="isShowDialog" [datas]="defaultData" (onComplete)="onComplete($event)"></app-task-list-dialog>
